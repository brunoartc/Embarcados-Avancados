#include <stdio.h>
#include "system.h"
#include <alt_types.h>
#include <io.h> /* Leiutura e escrita no Avalon */

//#define SIM

// LED Peripheral
#define REG_DATA_OFFSET 1


// PS2
#define WRITE_PS2 0

#define READ_PS2 1



int PS2_init(unsigned int *base_address){

}





int main(void){
  unsigned int led = 0;
  volatile unsigned int *p_led = (unsigned int *) PERIPHERAL_LED_0_BASE;

#ifndef SIM
  printf("Embarcados++ \n");
#endif

  while(1){

      if (led < 4){
          *(p_led+REG_DATA_OFFSET) = (0x1 << led++);
#ifndef SIM
          usleep(100000); // remover durante a simulação
#endif
      }
      else{
          led = 0;
      }
  };

  return 0;
}
